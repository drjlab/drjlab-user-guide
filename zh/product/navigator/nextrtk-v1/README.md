# RTK

## 概述
- RTK：载波相位差分技术，实时处理两个观测站载波相位观测量的差分方法，通过基准站采集的载波相位发送给移动端接收机，通过处理后可得到厘米的定位。在农林测绘、高精度任务飞行等应用中至关重要。
## RTK需要具备：
- 一对RTK GPS设备（基站和移动站）
- 地面站（Android/IOS暂不支持RTK）http://qgroundcontrol.com/
- 通讯设备（电台或WiFi网络）
## 定位效果

   - 融合先进的差分算法，实际使用中有着厘米级定位效果。
   - ![RTK](../../RTK.JPG)


##  硬件设置

### 移动端

- 与NextPilot飞控的gps端口连接，同[GPS](../../product/position/nextgps-v1.md)使用类似
- 飞控可选择是否使用RTK模块

### 基站

- 通过USB与地面战相连，在使用过程中，基站模块不能移除，最好保持静止状态。

### 电台/WiFi
 
 - 基站要通过电台/WiFi给移动端实时发送差分数据
 - 数据链路必须通过MavLink2.0协议，可以提高效率。
 - MavLink2.0协议支持用户修改

## RTK连接
- RTK GPS 支持热插拔：
1. 打开地面站，RTK GPS通过USB连接地面站，设备可以自动识别
2. 飞控上电，确保连接地面站  
3. 地面站设置RTK激活设备，配置
4. 配置成功，可以现实卫星颗数以及定位精度
- 当地面站开始获取定位数据流时，RTK GPS图标变化如下
#### ![RTK_QGC](../../RTK_QGC.PNG)

   - 由GPS转换到RTK模式，新模式现实普通GPS状态（3D RTK GPS Lock）

#### ![RTK_QGC_1](../../RTK_QGC_1.PNG)

## 飞控参数设置
- 搜索精度
- 最小观测间隔
#### ![RTK_QGC_2](../../RTK_QGC_2.PNG)


