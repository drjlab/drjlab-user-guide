# microhard-p840
## 产品简介
        P840是一种功能强大、稳定且安全的无线串行通讯设备。

        在普通无人机应用中，P840成对使用，一块设备（机载端）安装在无人机上与飞控相连，另一块（地面端）与地面站相连。
    
## 基本配置说明
### 模式说明

        P840有两种模式，工作模式和配置模式。

 * 工作模式：在该模式下，设备正常传输数据。上电时，设备处于工作模式。

 * 配置模式：在该模式下，用户可以查看、修改和保存设备配置信息。在工作模式下，利用“+++”指令进入配置模式。从配置模式切换到工作模式有两种方法，断电重启或使用“ATA[Enter]”指令。

### 配置任务

        无人机通过成对使用的P840与地面站进行通讯时，机载端与飞控和地面端都存在信息交互，地面端与地面站和机载端都存在信息交互。用户需完成以下三项配置任务：

* 任务一： 机载端与地面端的无线电参数配置

* 任务二： 地面端与地面站的通讯端口配置

* 任务三： 机载端与飞控的通讯端口配置。

### 配置指令

        建议使用默认配置作为模板对P840进行配置以减少配置工作量。在配置模式下，使用“AT&F /?[Enter]”指令可以获取所有的默认配置。一般情况下，选择F6（地面端）和F7（机载端）配置。使用“AT&F6[Enter]”（或“AT&F7[Enter]”）选择对应的配置。至此已经完成了任务一。在选择配置后，使用“AT&V[Enter]”指令可以查看配置信息。如果当前环境存在许多电台设备时，不排除机载端与其他地面端连接的可能性。建议修改网络ID（参数S104）以提高配对成功率。

        一般情况下，P840与外部设备（如飞控和地面站）通过串口通讯。当飞控采用PX4固件时，串口通讯波特率为57600bps。当地面站采用QGC时，串口通讯波特率为57600bps。如采用其他固件或地面站时，请参考相应说明。P840配置参数中S102对应串口波特率，其值取2时，对应57600bps。默认配置下，S102的值为7，对应的波特率为9600bps。

        修改配置参数后，设备并不会立即以新的配置运行。只有当用户保存配置（“AT&W[Enter]”）并切回工作模式后，设备才以新的配置运行。

### 配置工具

       建议使用串口助手输入相关指令。

       串口助手与待配置的设备通过串口通讯。在连接时，需确认待配置设备的波特率。

### 配置实例

[P840配置](../../demo/P840.md)